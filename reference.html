<!DOCTYPE html><html><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if(!e)return localStorage.setItem('theme','light'),d.add('light');if("system"===e){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else d.add(e)}catch(e){}}()</script><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>Reference – Run</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="Nextra: the next docs builder"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@shuding_"/><meta property="og:title" content="Nextra: the next docs builder"/><meta property="og:description" content="Nextra: the next docs builder"/><meta name="apple-mobile-web-app-title" content="Nextra"/><meta name="next-head-count" content="15"/><link rel="preload" href="/run/_next/static/css/f6eab16f921f349f.css" as="style"/><link rel="stylesheet" href="/run/_next/static/css/f6eab16f921f349f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/run/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/run/_next/static/chunks/webpack-e905398a3e409a0d.js" defer=""></script><script src="/run/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/run/_next/static/chunks/main-0bde7ccf454569b0.js" defer=""></script><script src="/run/_next/static/chunks/pages/_app-08cd5c3910b48d79.js" defer=""></script><script src="/run/_next/static/chunks/58-f50591d4a8f48b8d.js" defer=""></script><script src="/run/_next/static/chunks/pages/reference-66260be8653f512e.js" defer=""></script><script src="/run/_next/static/QowNAN1BSoqnq1iZGFRGq/_buildManifest.js" defer=""></script><script src="/run/_next/static/QowNAN1BSoqnq1iZGFRGq/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900 bg-opacity-[.97] dark:bg-opacity-100"><div class="w-full flex items-center mr-2"><a class="no-underline text-current inline-flex items-center hover:opacity-75" href="/"><svg>...</svg><span>Run</span></a></div><div class="flex-1"><div class="hidden md:inline-block mr-2"><div class="nextra-search relative w-full md:w-64"><input class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" type="search" placeholder="Search (&quot;/&quot; to focus)"/></div></div></div><a class="text-current p-2 cursor-pointer" tabindex="0"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"></svg></a><a class="text-current p-2" href="https://github.com/katallaxie/run" target="_blank"><svg height="24" viewBox="2 2 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z" fill="currentColor"></path></svg></a><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="fixed h-screen bg-white dark:bg-dark flex-shrink-0 w-full md:w-64 md:sticky z-20 hidden md:block" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><div class="mb-4 block md:hidden"><div class="nextra-search relative w-full md:w-64"><input class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" type="search" placeholder="Search (&quot;/&quot; to focus)"/></div></div><div class="hidden md:block"><ul><li class=""><a href="/installation">Installation</a></li><li class=""><a href="/plugins">Plugins</a></li><li class="active"><a href="/reference">Reference</a></li><li class=""><a href="/usage">Usage</a></li></ul></div><div class="md:hidden"><ul><li class=""><a href="/">Introduction</a></li><li class=""><a href="/installation">Installation</a></li><li class=""><a href="/plugins">Plugins</a></li><li class="active"><a href="/reference">Reference</a></li><li class=""><a href="/usage">Usage</a></li></ul></div></div></aside><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><article class="docs-container relative pt-16 pb-16 px-6 md:px-8 w-full max-w-full flex min-w-0"><main class="max-w-screen-md mx-auto pt-4 z-10 min-w-0"><h1>API Reference</h1>
<h2>CLI</h2>
<p><code>run</code> has the following command line syntax:</p>
<pre><code class="language-bash">run [--flags] [tasks...] [-- ARGS...]
</code></pre>
<table><thead><tr><th>Short</th><th>Flag</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>-c</code></td><td><code>--config</code></td><td><code>string</code></td><td><code>.run.yml</code></td><td>Config file. Enabled by default. Set to <code>.run.yml</code> or change to the location of your config</td></tr><tr><td><code>-w</code></td><td><code>--watch</code></td><td><code>bool</code></td><td><code>false</code></td><td>Enables watch of the given tasks. This factors in the <code>watch</code> config in your <code>.run.yml</code> file.</td></tr><tr><td><code>-f</code></td><td><code>--force</code></td><td><code>bool</code></td><td><code>false</code></td><td>Forces the execution of operations.</td></tr><tr><td><code>-l</code></td><td><code>--list</code></td><td><code>bool</code></td><td><code>false</code></td><td>Lists the available tasks specified in the <code>.run.yml</code> file.</td></tr><tr><td><code>-v</code></td><td><code>--verbose</code></td><td><code>bool</code></td><td><code>false</code></td><td>Enables verbose logging of runtime information.</td></tr><tr><td><code>-s</code></td><td><code>--silent</code></td><td><code>bool</code></td><td><code>false</code></td><td>Does not log any runtime information.</td></tr><tr><td><code>-d</code></td><td><code>--dry</code></td><td><code>bool</code></td><td><code>false</code></td><td>Does not apply destructive operations.</td></tr><tr><td><code>-p</code></td><td><code>--plugin</code></td><td><code>string</code></td><td></td><td>Executes the provided plugin. Passes the CLI arguments via <code>--vars</code> and after the <code>--</code> to the execution of the plugin.</td></tr><tr><td><code>-w</code></td><td><code>--watch</code></td><td><code>bool</code></td><td><code>false</code></td><td>Enables watch of the given tasks. This factors in the <code>watch</code> config in your <code>.run.yml</code> file.</td></tr><tr><td></td><td><code>--dir</code></td><td><code>string</code></td><td><code>.</code></td><td>Sets the current working directory. Defaults to the current directory of execution.</td></tr><tr><td></td><td><code>--validate</code></td><td><code>bool</code></td><td><code>false</code></td><td>Validates the specification file provided via <code>.run.yml</code>.</td></tr><tr><td></td><td><code>--var</code></td><td><code>[]string</code></td><td></td><td>Sets the a variable in the format of <code>key=value</code></td></tr><tr><td></td><td><code>--init</code></td><td><code>bool</code></td><td><code>false</code></td><td>Creates a new <code>.run.yml</code> file at the provided location of <code>--config</code> (default: <code>./.run.yml</code>)</td></tr><tr><td></td><td><code>--version</code></td><td><code>bool</code></td><td><code>false</code></td><td>Prints the current version.</td></tr></tbody></table>
<h2>Schema</h2>
<h3>Example</h3>
<pre><code class="language-yaml">spec: 1
version: 1.0.0
authors:
  - John Apple &lt;john@example.com&gt;
homepage: https://github.com/katallaxie/run
repository: https://andersnormal.github.io/run/
tasks:
  test:
    disabled: true
    desc: test
    vars:
      region: test
    steps:
      - 
        id: foo
        if: {{if .OS == &quot;linux&quot;}}
        cmd: |
          echo &quot;Hello World&quot;
          echo {{.CWD}}
        timeout-in-seconds: 10
        continue-on-error: false
        uses: remote-exec
        vars:
          cwd: {{.CWD}}
        with:
          region: eu-west-1
    watch:
      paths:
        - pkg/config
    template:
      - 
        file: ./examples/config.json.tpl
        out: ./config.json
        vars:
          foo: bar
  build:
    default: true
    deps:
      - test
    vars:
      region: test
    cmd:
      - go build
    watch:
      paths:
        - examples
      ignore:
        - .gitignore
        - .run.yml
</code></pre>
<h3>General</h3>
<table><thead><tr><th>Attribute</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>spec</code></td><td><code>int</code></td><td></td><td>Specification version to be used. The current version is <code>1</code>.</td></tr><tr><td><code>version</code></td><td><code>string</code></td><td></td><td>Version of the application.</td></tr><tr><td><code>authors</code></td><td><code>[]string</code></td><td></td><td>List of authors.</td></tr><tr><td><code>homepage</code></td><td><code>string</code></td><td></td><td>URL to the homepage of the application.</td></tr><tr><td><code>repository</code></td><td><code>string</code></td><td></td><td>URL to the repository of the application.</td></tr><tr><td><code>vars</code></td><td><a href="#variable"><code>Vars</code></a></td><td></td><td>Global variables.</td></tr><tr><td><code>env</code></td><td><a href="#variable"><code>Env</code></a></td><td></td><td>Global environment.</td></tr><tr><td><code>tasks</code></td><td><a href="#task"><code>Tasks</code></a></td><td></td><td>The task definitions.</td></tr></tbody></table>
<h3>Task</h3>
<table><thead><tr><th>Attribute</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code>string</code></td><td></td><td>Name of the task.</td></tr><tr><td><code>working-dir</code></td><td><code>string</code></td><td><code>cwd</code></td><td>Current directort which the task should run in.</td></tr><tr><td><code>disabled</code></td><td><code>bool</code></td><td><code>false</code></td><td>Disable the task in execution.</td></tr><tr><td><code>depends-on</code></td><td><code>DependsOn</code></td><td></td><td>List of other task this task depends on in execution.</td></tr><tr><td><code>vars</code></td><td><a href="#variable"><code>Vars</code></a></td><td></td><td>Variables for this task.</td></tr><tr><td><code>env</code></td><td><a href="#variable"><code>Env</code></a></td><td></td><td>Task specific environment.</td></tr><tr><td><code>watch</code></td><td><a href="#watch"><code>Watch</code></a></td><td></td><td>Configuration for <code>watch</code> flag of the task.</td></tr><tr><td><code>template</code></td><td><a href="#template"><code>Templates</code></a></td><td></td><td>Templates to create for this task.</td></tr><tr><td><code>steps</code></td><td><a href="#step"><code>Steps</code></a></td><td></td><td>Templates to create for this task.</td></tr></tbody></table>
<h3>Steps</h3>
<table><thead><tr><th>Attribute</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>cmd</code></td><td><code>string</code></td><td></td><td>Commands to run in the current working directory.</td></tr><tr><td><code>working-dir</code></td><td><code>string</code></td><td><code>cwd</code></td><td>Current directort which the task should run in.</td></tr><tr><td><code>vars</code></td><td><a href="#variable"><code>Vars</code></a></td><td></td><td>Variables for this task.</td></tr><tr><td><code>env</code></td><td><a href="#variable"><code>Env</code></a></td><td></td><td>Task specific environment.</td></tr><tr><td><code>if</code></td><td><a href="#condition"><code>If</code></a></td><td><code>true</code></td><td>Condition to run this step.</td></tr><tr><td><code>uses</code></td><td><code>string</code></td><td></td><td>A <a href="/plugins">plugin</a> to be run in this step.</td></tr><tr><td><code>with</code></td><td><a href="#variable"><code>Vars</code></a></td><td></td><td>Extra variables for the plugin in the <code>uses</code> property.</td></tr><tr><td><code>depends-on</code></td><td><code>DependsOn</code></td><td></td><td>List of other task this task depends on in execution.</td></tr><tr><td><code>timeout-in-seconds</code></td><td><code>int64</code></td><td><code>math.MaxInt64</code></td><td>The timeout for the execution of this step. This is borrowed from the <code>context</code> timeout.</td></tr><tr><td><code>continue-on-error</code></td><td><code>bool</code></td><td><code>false</code></td><td>Enables to proceed with the next step even if the current step has failed.</td></tr></tbody></table>
<blockquote>
<p>The <code>working-dir</code> is set to the current directory.</p>
</blockquote><footer class="mt-24"><div class="flex flex-row items-center justify-between"><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center mr-2" title="Plugins" href="/plugins"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 rotate-180 mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Plugins</a></div><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center ml-2" title="Usage" href="/usage">Usage<svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">MIT 2022 © Sebastian Doell (@katallaxie).</span><div class="mt-6"></div><a class="text-sm" href="https://github.com/katallaxie/run/blob/main/docs/pages/reference.mdx" target="_blank">Edit this page on GitHub</a></div></footer></main><div class="w-64 hidden xl:block text-sm pl-4"></div></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/reference","query":{},"buildId":"QowNAN1BSoqnq1iZGFRGq","assetPrefix":"/run","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>